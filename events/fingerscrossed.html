<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inknut+Antiqua&family=Lora&display=swap');
      body {
        font-family: 'Lora', serif;
        margin: 0px;
      }
      #wrapper {
        position: relative;
        width: 100vw;
        height: 100vh;
      }
      #unmute {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 5vw;
        color: white;
        text-shadow: 1px 1px 2px black;
      }
      #fullscreen {
        position: absolute;
        bottom: 5%;
        right: 5%;
        font-size: 2vw;
        color: white;
        text-shadow: 1px 1px 2px black;
      }
      a {
        color: unset;
      }
    </style>
  </head>
  <body>
    <div id="wrapper">
<video width="100%" height="100%" controls="none">
  <source src="https://ipfs.io/ipfs/QmasUMkgfoVFboRjSk1Gi9RhChmLYZ9SuktiqP2x8cMREY?filename=viceDesktop.mov" type="video/mov">
  Your browser does not support the video tag.
</video>
      <div id="unmute"><a href="#">click to unmute</a></div>
      <div id="fullscreen"><a href="#">click for fullscreen</a></div>
    </div> 
    <script>
      var videoElement = document.querySelector('video');
var mobileVideoSrc = "https://ipfs.io/ipfs/QmRRVfjikeYGfVkiXiSieWn5oo9psdMAohGvj7VQsgXBQC?filename=vice.mov"; // replace with your mobile video URL
var unmuteBTN = document.getElementById('unmute');
var fullscreenBTN = document.getElementById('fullscreen');

const now = new Date();
const hoursToday = now.getHours();
const minutesToday = now.getMinutes();
const secondsToday = now.getSeconds();
const totalSecondsToday = (hoursToday * 3600) + (minutesToday * 60) + secondsToday;

if (/mobile/i.test(navigator.userAgent)) {
    // page is loaded on a mobile device
    videoElement.src = mobileVideoSrc;
    fullscreenBTN.style.display = "none";
    playFrom();
    unmuteBTN.addEventListener('click', (event) => {
        videoElement.volume = 1;
        requestVideoFullscreen(videoElement);
        unmuteBTN.style.display = "none";
        fullscreenBTN.style.display = "block";
        fullscreenBTN.addEventListener('click', (event) => {
            requestVideoFullscreen(videoElement);
        });
    });
} else {
    // page is loaded on a desktop device
    playFrom();
    unmuteBTN.style.display = "none";
    fullscreenBTN.addEventListener('click', (event) => {
        requestVideoFullscreen(videoElement);
    });
}

function requestVideoFullscreen(video) {
    if (video.requestFullscreen) {
        video.requestFullscreen();
    } else if (video.mozRequestFullScreen) {
        video.mozRequestFullScreen(); // Firefox
    } else if (video.webkitRequestFullscreen) {
        video.webkitRequestFullscreen(); // Chrome and Safari
    } else if (video.msRequestFullscreen) {
        video.msRequestFullscreen(); // IE
    }
}

function playFrom() {
    var videoDuration = videoElement.duration;
    var loopedTimeInSeconds = totalSecondsToday % videoDuration;
    videoElement.currentTime = loopedTimeInSeconds;
    videoElement.play();
}

    </script>
  </body>
</html>
